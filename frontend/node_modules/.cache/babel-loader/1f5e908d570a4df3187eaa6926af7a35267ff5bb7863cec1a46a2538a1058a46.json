{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductList=()=>{const[products,setProducts]=useState([]);useEffect(()=>{getProducts();},[]);const getProducts=async()=>{let result=await fetch('http://localhost:5000/products');result=await result.json();setProducts(result);};const deleteProduct=async id=>{let result=await fetch(\"http://localhost:5000/product/\".concat(id),{method:\"Delete\"});result=await result.json();if(result){alert(\"record is deleted\");getProducts();//to show detele\n}};const searchHandle=async event=>{let key=event.target.value;if(key){let result=await fetch(\"http://localhost:5000/search/\".concat(key));result=await result.json();if(result){setProducts(result);}}else{getProducts();}};return/*#__PURE__*/_jsxs(\"div\",{className:\"product_list\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Product List\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"search product\",onChange:searchHandle}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"S.NO\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Category\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Operation\"})]}),products.length>0?products.map((item,index)=>/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:index+1}),/*#__PURE__*/_jsx(\"li\",{children:item.name}),/*#__PURE__*/_jsx(\"li\",{children:item.price}),/*#__PURE__*/_jsx(\"li\",{children:item.category}),/*#__PURE__*/_jsxs(\"li\",{children:[\" \",/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:()=>deleteProduct(item._id),children:\"DELETE\"}),/*#__PURE__*/_jsx(Link,{to:\"/update/\"+item._id,children:\"UPDATE\"})]})]},item._id)):/*#__PURE__*/_jsx(\"h1\",{children:\"NO RESULT FOUND\"})]});};export default ProductList;","map":{"version":3,"names":["React","useEffect","useState","Link","jsx","_jsx","jsxs","_jsxs","ProductList","products","setProducts","getProducts","result","fetch","json","deleteProduct","id","concat","method","alert","searchHandle","event","key","target","value","className","children","type","placeholder","onChange","length","map","item","index","name","price","category","onClick","_id","to"],"sources":["E:/NODE js/e-commerce dashboard/frontend/src/components/ProductList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst ProductList = () =>{\r\n  const [products, setProducts]= useState([]);\r\n\r\n  useEffect(() => {\r\n          getProducts();\r\n  }, [])\r\n\r\n  const getProducts = async () => {\r\n       let result =await fetch('http://localhost:5000/products')\r\n       result = await result.json();\r\n       setProducts(result);\r\n  \r\n  }\r\n\r\n  const deleteProduct=async(id)=>{\r\n    let result =await fetch(`http://localhost:5000/product/${id}`,{\r\n        method:\"Delete\"\r\n    })\r\n      result = await result.json()\r\n      if(result){\r\n        alert(\"record is deleted\")\r\n        getProducts()  //to show detele\r\n      }\r\n  };\r\n\r\n  const searchHandle = async(event) =>{\r\n    let key = event.target.value;\r\n    if(key){\r\n    let result = await fetch(`http://localhost:5000/search/${key}`);\r\n    result = await result.json();\r\n    if (result){\r\n      setProducts(result)\r\n    }\r\n  }else{\r\n    getProducts()\r\n  }\r\n  }\r\n   \r\n    return (\r\n      <div className='product_list'>\r\n        <h2>Product List</h2>\r\n        <input type=\"text\" placeholder='search product'\r\n        onChange={searchHandle}\r\n        />\r\n        <ul >\r\n         <li>S.NO</li>   \r\n         <li>Name</li> \r\n         <li>Price</li> \r\n         <li>Category</li> \r\n         <li>Operation</li>\r\n        </ul>\r\n        {\r\n           products.length>0 ? products.map((item,index)=>\r\n            <ul key ={item._id}>\r\n                <li>{index+1}</li>\r\n                <li>{item.name}</li>\r\n                <li>{item.price}</li>\r\n                <li>{item.category}</li>\r\n               <li> <button className='button' onClick={()=>deleteProduct(item._id)}>DELETE</button>\r\n            <Link to={\"/update/\"+item._id}>UPDATE</Link></li>\r\n               \r\n            </ul>\r\n            )\r\n            : <h1>NO RESULT FOUND</h1>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n  export default  ProductList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}